import { addStyleSheet, element } from "../../framework.js";
addStyleSheet(import.meta.url);
const maxZIndex = 2147483647;
const titleHeight = 39;
export class StickyTitle {
    constructor(title, depth) {
        this.dom = element("p", { className: "stickytext" }, ...title);
        this.setDepth(depth);
    }
    setDepth(depth) {
        this.dom.style.top = `${targetYPos(depth)}px`;
        this.dom.style.zIndex = (maxZIndex - depth).toString();
    }
}
export function showInTree(elem, depth) {
    const targetTopPos = targetYPos(depth);
    const rect = elem.getBoundingClientRect();
    if (rect.top < targetTopPos) {
        elem.scrollIntoView(true);
        window.scrollBy(0, -targetTopPos);
    }
}
function targetYPos(depth) {
    return titleHeight * (depth - 1);
}
//# sourceMappingURL=StickyTitle.js.map